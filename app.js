"use strict";var BASE_URL="https://api.lyrics.ovh",suggestions=document.querySelector(".suggestions"),results=[],alert=document.getElementById("alert");document.getElementById("search").addEventListener("keyup",async function(t){var e=t.target.value;if(e&&e.length>1)try{var n=await axios.get(BASE_URL+"/suggest/"+encodeURIComponent(e)),i=await n.data;results=i.data.filter(function(t,e){return e<=5}),await async function(t){suggestions.innerHTML="",await t.forEach(function(t){suggestions.innerHTML+='<li class="suggest" data-id="'+t.title+"-"+t.artist.name+'">\n        <div>\n          <h4 class="m0">'+t.title+" - "+t.artist.name+'</h4>\n          <small class="cl-gray">'+t.album.title+'</small>\n        </div>\n        <audio src="'+t.preview+'" controls></audio>\n      </li>'})}(results),suggestions.style.display="block",function(){if(results&&results.length>0){var t=document.querySelectorAll(".suggest");t.forEach(function(t){t.addEventListener("click",async function(){await async function(t){try{await async function(){suggestions.style.display="none";var e=t.getAttribute("data-id").split("-"),n=await axios.get(BASE_URL+"/v1/"+e[1]+"/"+e[0]),i=await n.data,s=results.find(function(t){return t.title===e[0].trim()}).album;document.getElementById("lyrics").innerHTML='\n      <h3 class="disp-flex">\n        <div class="flex-col">\n          <span class="mr-20">'+e[0]+" - "+e[1]+"</span> \n          <small>Album: "+s.title+'</small>\n        </div>\n        <div>\n          <button id="btn-listen">preview</button>\n          <button id="btn-copy">copy</button>          \n          <button id="btn-full">ðŸ“º</button>     \n        </div>\n      </h3>\n      <textarea class="lyric p0">'+i.lyrics+'</textarea>      \n      <img src="'+s.cover_medium+'" alt="album cover" />',function(t,e){t&&t.addEventListener("click",function(){t.textContent="copied",e.select(),document.execCommand("copy"),setTimeout(function(){t.textContent="copy"},3e3)})}(document.getElementById("btn-copy"),document.querySelector(".lyric"));var a,l,o=results.find(function(t){return t.title===e[0].trim()}).preview;(function(t,e){e&&e.length>20&&((n=document.getElementById("preview")).src=e,t.addEventListener("click",function(){n.paused?(n.play(),t.textContent="pause"):(n.pause(),t.textContent="preview"),n.onended=function(){t.textContent="preview"}}));var n})(document.getElementById("btn-listen"),o),a=document.getElementById("btn-full"),l=!1,a.addEventListener("click",function(){l=!l,document.querySelector(".header").style.display=l?"none":"block",document.querySelector(".search-container").style.display=l?"none":"block"})}()}catch(t){setTimeout(function(){alert.textContent=t?"There were no results found.":""},300)}}(t)})})}}()}catch(t){setTimeout(function(){alert.textContent=err?"There were no results found.":""},300)}});