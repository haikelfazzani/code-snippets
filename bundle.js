"use strict";var BASE_URL="https://api.lyrics.ovh",suggestions=document.querySelector(".suggestions"),results=[],alert=document.getElementById("alert"),errorMsg="There were no results found.";document.getElementById("search").addEventListener("keyup",async function(t){var e=t.target.value;if(e&&e.length>1)try{var n=await axios.get(BASE_URL+"/suggest/"+encodeURIComponent(e)),s=await n.data;results=s.data.filter(function(t,e){return e<=5}),await async function(t){suggestions.innerHTML="",await t.forEach(function(t){suggestions.innerHTML+='<li class="suggest" data-id="'+t.title+"-"+t.artist.name+'">\n        <div>\n          <h4 class="m0">'+t.title+" - "+t.artist.name+'</h4>\n          <small class="cl-gray">'+t.album.title+'</small>\n        </div>\n        <audio src="'+t.preview+'" controls></audio>\n      </li>'})}(results),suggestions.style.display="block",function(){if(results&&results.length>0){var t=document.querySelectorAll(".suggest");t.forEach(function(t){t.addEventListener("click",async function(){await async function(t){try{suggestions.style.display="none";var e=t.getAttribute("data-id").split("-"),n=await axios.get(BASE_URL+"/v1/"+e[1]+"/"+e[0]),s=await n.data;document.getElementById("lyrics").innerHTML='\n      <h3><span class="mr-20">'+e[0]+" - "+e[1]+'</span> <button id="btn-copy">copy</button></h3>\n      <textarea class="lyric p0">'+s.lyrics+"</textarea>";var a=document.getElementById("btn-copy");a&&a.addEventListener("click",function(){a.textContent="copied",document.querySelector(".lyric").select(),document.execCommand("copy"),setTimeout(function(){a.textContent="copy"},3e3)})}catch(t){t&&(alert.textContent=JSON.stringify(errorMsg))}}(t)})})}}()}catch(t){t&&(alert.textContent=JSON.stringify(errorMsg))}});